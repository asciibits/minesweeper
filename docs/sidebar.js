"use strict";(()=>{function S(L){L.addEventListener("load",()=>{let g=document.getElementById("expert_chip"),v=document.getElementById("beginner_chip"),k=document.getElementById("intermediate_chip"),f=document.getElementById("custom_chip"),n=document.getElementById("width"),l=document.getElementById("height"),d=document.getElementById("mine_count");function m(e,c,i){let t=!1;return n.value!==e&&(t=!0,n.value=e),l.value!==c&&(t=!0,l.value=c),d.value!==i&&(t=!0,d.value=i),s(),t}g.addEventListener("click",()=>{m("30","16","99")&&n.dispatchEvent(new Event("change"))}),k.addEventListener("click",()=>{m("16","16","40")&&n.dispatchEvent(new Event("change"))}),v.addEventListener("click",()=>{m("9","9","10")&&n.dispatchEvent(new Event("change"))}),[n,l,d].forEach(e=>e.addEventListener("change",()=>{let c=n.value,i=l.value,t=d.value;i==="16"&&c==="30"&&t==="99"?g.checked=!0:i==="16"&&c==="16"&&t==="40"?k.checked=!0:i==="9"&&c==="9"&&t==="10"?v.checked=!0:f.checked=!0}));let a=document.getElementsByTagName("body")[0],u=document.getElementById("system_color"),o=document.getElementById("light_color"),r=document.getElementById("dark_color");u.addEventListener("click",()=>{a.classList.remove("dark"),a.classList.remove("light"),s()}),o.addEventListener("click",()=>{a.classList.remove("dark"),a.classList.add("light"),s()}),r.addEventListener("click",()=>{a.classList.remove("light"),a.classList.add("dark"),s()});let p=document.getElementById("no_mine"),E=document.getElementById("open_area"),h=document.getElementById("mine_possible");p.addEventListener("change",()=>{s()}),E.addEventListener("change",()=>{s()}),h.addEventListener("change",()=>{s()});function M(){let e=r.checked?"DARK":o.checked?"LIGHT":"SYSTEM",c=n.value,i=l.value,t=d.value,y=E.checked?"ZERO":h.checked?"ANY":"NO_MINE";return{colorPalette:e,width:c,height:i,mineCount:t,initialClick:y}}function T(e){if(e){switch(e.colorPalette){case"DARK":r.checked||(r.checked=!0,r.dispatchEvent(new Event("click")));break;case"LIGHT":o.checked||(o.checked=!0,o.dispatchEvent(new Event("click")));break;case"SYSTEM":u.checked||(u.checked=!0,u.dispatchEvent(new Event("click")));break}switch(e.initialClick){case"NO_MINE":p.checked=!0;break;case"ZERO":E.checked=!0;break;case"ANY":h.checked=!0;break}m(e.width??"30",e.height??"16",e.mineCount??"99")}}let I=JSON.parse(localStorage?.getItem("settings")??"null");I&&(T(I),n.dispatchEvent(new Event("change")));function s(){let e=JSON.stringify(M());localStorage&&localStorage.setItem("settings",e)}})}})();
